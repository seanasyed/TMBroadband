<!DOCTYPE HTML>

<html>
	<head>
		<title>EQUniform Database</title>
		<meta charset="utf-8" />
		<link rel="stylesheet" href="main.css" />
		<link rel="icon" href="trojanhead.png" />
		<script type="text/javascript" src=""></script>
		<script src="https://www.gstatic.com/firebasejs/5.7.1/firebase.js"></script>
		<script>
		  // Initialize Firebase
		  var config = {
		    apiKey: "AIzaSyC7VFaPLjxXwTmIJRPlz0Qt9mhLTH2Dfko",
		    authDomain: "tmbroadband-80256.firebaseapp.com",
		    databaseURL: "https://tmbroadband-80256.firebaseio.com",
		    projectId: "tmbroadband-80256",
		    storageBucket: "tmbroadband-80256.appspot.com",
		    messagingSenderId: "106316365039"
		  };
		  firebase.initializeApp(config);
		</script>
		<script type="text/javascript">
	      initApp = function() {
	        firebase.auth().onAuthStateChanged(function(user) {
	          if (user) {
	            // User is signed in.
	            var displayName = user.displayName;
	            var email = user.email;
	            var emailVerified = user.emailVerified;
	            var photoURL = user.photoURL;
	            var uid = user.uid;
	            var phoneNumber = user.phoneNumber;
	            var providerData = user.providerData;
	          } else {
	            // User is signed out.
	            /* document.getElementById('sign-in-status').textContent = 'Signed out';
	            document.getElementById('sign-in').textContent = 'Sign in';
	            document.getElementById('account-details').textContent = 'null'; */
	            window.location.replace('index.html'); 
	          }
	        }, function(error) {
	          console.log(error);
	        });
	      };
	
	      window.addEventListener('load', function() {
	        initApp()
	      });
	    </script>
	    <script>
	    	var w = new Worker('polling.js'); 
	    	
	    	w.addEventListener('message', function(e) {
	    		
	    		//For testing purposes, log the messages
	    		console.log(e.data); 
	    	}); 
	    	
	    	w.postMessage('poll'); 
	    	
	    	
	    </script>
	    <script>
	    function signOut() {
	    	firebase.auth().signOut().then(function() {
	    		  console.log('Signed Out');
	    		  window.location.replace('index.html'); 
	    		}, function(error) {
	    		  console.error('Sign Out Error', error);
	    		});
	    }
	    </script>
	    
	</head>
	<body>
		<div id="infoBox">
		</div>
		<hr id="vert" width="1" size="500">
		<hr id="horiz" width="500" size="0.5">
		<hr id="horiz2" width="500" size="0.5">
		<button type="button" id="signOutButton" onclick="signOut()">Sign Out</button>
		<div class="info" id="lastName">Last: </div>
		<div class="info" id="firstName">First: </div>
		<div class="info" id="class">Class: </div>
		<div class="info" id="instrument">Instrument: </div>
		<div class="info" id="id">ID: </div>
		<div class="info" id="email">Email: </div>
		<div class="info" id="model">Model: </div>
		<div class="info" id="locker">Locker: </div>
	</body>
	
	
	
</html>